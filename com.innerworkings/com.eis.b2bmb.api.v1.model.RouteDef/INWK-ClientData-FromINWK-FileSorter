{
  "refName" : "INWK-ClientData-FromINWK-FileSorter",
  "refKey" : "8b6e60d4db18d1f2b74bf6f890678e6a",
  "displayName" : "INWK-ClientData-FromINWK-FileSorter",
  "schemaVersion" : null,
  "version" : null,
  "current" : true,
  "txId" : null,
  "keywords" : [ "Import", "ClientData", "INWK-ClientData-FromINWK-FileSorter", "InnerWorkings" ],
  "tags" : [ "Import", "ClientData", "InnerWorkings" ],
  "hashSum" : null,
  "auditInfo" : {
    "creationTs" : 1510948612612,
    "createUser" : "Admin Innerworkings",
    "updateTs" : 1513259995825,
    "updateUser" : "Admin Innerworkings"
  },
  "uiactions" : [ ],
  "forced" : false,
  "objRef" : false,
  "doNotAudit" : false,
  "logicallyDeleted" : false,
  "create" : false,
  "violationsSet" : null,
  "dynAttributes" : { },
  "internal" : false,
  "referenceData" : [ ],
  "id" : "83b49013-a170-4e90-91c7-acdc18914a3d",
  "routeDefinition" : "<routes xmlns=\"http://camel.apache.org/schema/spring\">\r\n<route id=\"com.innerworkings.INWK-ClientData-FromINWK-FileSorter\" autoStartup=\"false\">\r\n<from uri=\"b2bmbMailBox://com.innerworkings/INWK-ClientData-FromINWK\"/>\r\n\r\n<choice>\r\n    <when>\r\n       <simple>${file:name} contains 'ASN_' or ${file:name} contains 'asn_'</simple>\r\n        <convertBodyTo type=\"java.lang.String\"/>\r\n        <convertBodyTo type=\"org.w3c.dom.Document\"/>\r\n        <split>\r\n            <xpath>//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'SetupLAN']//*[local-name() = 'xmlSetupLAN']//*[local-name() = 'SetupLANs']\r\n            </xpath>\r\n           <to uri=\"b2bmbMailBox://com.innerworkings/INWK-ASN-FromINWK\"/>\r\n        </split>\r\n    </when>\r\n    <when>\r\n       <simple>${file:name} contains 'item' or ${file:name} contains 'ITEM'</simple>\r\n        <convertBodyTo type=\"java.lang.String\"/>\r\n        <convertBodyTo type=\"org.w3c.dom.Document\"/>\r\n        <split>\r\n            <xpath>//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'SetupSKU']//*[local-name() = 'xmlSetupSKU']//*[local-name() = 'SetupSKUs']\r\n            </xpath>\r\n            <to uri=\"b2bmbMailBox://com.innerworkings/INWK-Item-FromINWK\"/>\r\n        </split>\r\n    </when>\r\n    <when>\r\n       <simple>${file:name} contains 'SO_' or ${file:name} contains 'so_'</simple>\r\n        <convertBodyTo type=\"java.lang.String\"/>\r\n        <convertBodyTo type=\"org.w3c.dom.Document\"/>\r\n        <split>\r\n            <xpath>//*[local-name() = 'Envelope']//*[local-name() = 'Body']//*[local-name() = 'multiRef']//*[local-name() = 'LitOrder']//*[local-name() = 'cXML']//*[local-name() = 'Request']\r\n            </xpath>\r\n            <to uri=\"b2bmbMailBox://com.innerworkings/INWK-SalesOrder-FromINWK\"/>\r\n       </split>\r\n    </when>\r\n    <when>\r\n       <simple>${file:name} contains '_WORKORDER_'</simple>\r\n        <setHeader headerName=\"Subject\">\r\n            <simple>SKU_Inbound</simple>\r\n        </setHeader>\r\n        <multicast>\r\n            <to uri=\"b2bmbMailBox://com.innerworkings/INWK-ASN-FromINWK\"/>\r\n            <to uri=\"b2bmbMailBox://com.innerworkings/INWK-ASN-FromINWK\"/>\r\n        </multicast>\r\n    </when>\r\n    <otherwise>\r\n        <setHeader headerName=\"Subject\">\r\n            <simple>Unknown_File</simple>\r\n        </setHeader>\r\n        <to uri=\"b2bmbMailBox://com.innerworkings/INWK-Unknown-FromINWK\"/>\r\n    </otherwise>\r\n</choice>\r\n\r\n</route>\r\n</routes>",
  "description" : "File Sorter to pull from INWK-ClientData-FromINWK and determine what it is",
  "priority" : 1,
  "runAsId" : null,
  "userProfileId" : null,
  "routeStatus" : "STOPPED",
  "dataDomains" : [ "com.innerworkings" ]
}